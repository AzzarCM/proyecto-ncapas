<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <title>Expediente</title>
    <link href="css/bootstrap.css" rel="stylesheet">
    <link href="css/tablas.css" rel="stylesheet">
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
</head>
<body>
<div class="container col-md-6">
    <div class="jumbotron">
    <h1>Expediente</h1><br>
        <a class="btn btn-info mb-4" href="/expediente"><i class="fa fa-plus mr-1"> </i> Agregar nuevo expediente</a>
    <br>
        <p th:text="${mensaje}"></p>
    <form method="post" th:action="@{/search}">
        <div class="form-group">
            <label class="col-form-label">Buscar por: </label>
            <select class="custom-select" th:name="opcion">
                <option value="0">- Seleccione una opcion para filtrar -</option>
                <option value="nombre" ><th th:text="Nombre"></th></option>
                <option value="apellido" ><th th:text="Apellido"></th></option>
            </select> <br>
            <label class="col-form-label">Valor de busqueda: </label>
            <input type="text" class="form-control"  placeholder="Ingrese el valor a buscar" name="valor"><br>
            <div class="btn-group mr-4" aria-label="Third group">
                <input type="submit" class="btn btn-primary" value="Buscar"/>
            </div>
            <div class="btn-group" role="group" aria-label="Third group">
                <a class="btn btn-warning" href="/index">Regresar</a>
            </div>
        </div>
    </form>
</div>
    <h2>Listado de todos los estudiates</h2>
    <section>
        <table class="table table-hover">
            <thead>
            <tr class="table-dark">
                <th class="text-center">Accion</th>
                <th class="text-center">Nombres</th>
                <th class="text-center">Apellidos</th>
                <th class="text-center">Aprobadas</th>
                <th class="text-center">Reprobadas</th>
                <th class="text-center">Promedio</th>
            </tr>
            </thead>
            <th:block th:each="m : ${expedientes}">
                <tr>
                    <th class="text-center"><a th:href="@{'/updateExpediente?id=' + ${m.idEstudiante}}"><i style="padding-right: 1em" class="fa fa-search-plus"></i></a>
                        <a th:href="@{'/materiaEstudiante?id=' + ${m.idEstudiante}}"><i class="fa fa-pencil-square-o"></i></a></th>
                    <th th:text="${m.nombres}" class="text-center"></th>
                    <th th:text="${m.apellidos}" class="text-center"></th>
                    <th th:text="${m.aprovadas}" class="text-center"></th>
                    <th th:text="${m.reprovadas}" class="text-center"></th>
                    <th th:text="${m.promedio}" class="text-center"></th>
                </tr>
            </th:block>
        </table>
    </section>
</div>
</body>
</html>